<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 3. Installation/Configuration</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL-NS Stylesheets V1.74.0"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link rel="home" href="index.html" title="RESTEasy JAX-RS"/><link rel="up" href="index.html" title="RESTEasy JAX-RS"/><link rel="prev" href="license.html" title="Chapter 2. License"/><link rel="next" href="Using_Path.html" title="Chapter 4. Using @Path and @GET, @POST, etc."/></head><body><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="license.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="Using_Path.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Installation_Configuration"/>Chapter 3. Installation/Configuration</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="Installation_Configuration.html#resteasy_modules_in_wildfly">3.1. Resteasy modules in WildFly</a></span></dt><dd><dl><dt><span class="section"><a href="Installation_Configuration.html#other_resteasy_modules">3.1.1. Other Resteasy modules</a></span></dt><dt><span class="section"><a href="Installation_Configuration.html#upgrading-wildfly">3.1.2. Upgrading Resteasy within WildFly</a></span></dt></dl></dd><dt><span class="section"><a href="Installation_Configuration.html#d4e111">3.2. Deploying a Resteasy application to WildFly</a></span></dt><dt><span class="section"><a href="Installation_Configuration.html#standalone_resteasy">3.3. Deploying to other servlet containers</a></span></dt><dd><dl><dt><span class="section"><a href="Installation_Configuration.html#d4e143">3.3.1. Servlet 3.0 containers</a></span></dt><dt><span class="section"><a href="Installation_Configuration.html#d4e149">3.3.2. Older servlet containers</a></span></dt></dl></dd><dt><span class="section"><a href="Installation_Configuration.html#configuration_switches">3.4. Configuration switches</a></span></dt><dt><span class="section"><a href="Installation_Configuration.html#javax.ws.rs.core.Application">3.5. javax.ws.rs.core.Application</a></span></dt><dt><span class="section"><a href="Installation_Configuration.html#listener">3.6. Resteasy as a ServletContextListener</a></span></dt><dt><span class="section"><a href="Installation_Configuration.html#filter">3.7. Resteasy as a Servlet Filter</a></span></dt><dt><span class="section"><a href="Installation_Configuration.html#d4e299">3.8. Client side</a></span></dt></dl></div>
    

    <p>
        Resteasy is installed and configured in different ways depending on which environment you are running in.
        If you are running in WildFly, Resteasy is already bundled and integrated completely
        so there is very little you have to do. If you are running in a different environment, there is some manual
        installation and configuration you will have to do.
    </p>

    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="resteasy_modules_in_wildfly"/>3.1. Resteasy modules in WildFly</h2></div></div></div>
        
        <p>
            In WildFly, Resteasy and the JAX-RS 2.0 API are automatically loaded into your deployment's classpath
            if and only if you are deploying a JAX-RS application (as determined by the presence
            of JAX-RS annotations). However, only some Resteasy features are automatically loaded. See Table 3.1. 
            If you need any of those libraries which are not loaded automatically, you'll have bring them in
            with a jboss-deployment-structure.xml file in the WEB-INF directory of your WAR file.  Here's an example:  
        </p>
        <pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
&lt;jboss-deployment-structure&gt;
    &lt;deployment&gt;
        &lt;dependencies&gt;
            &lt;module name="org.jboss.resteasy.resteasy-jackson-provider" services="import"/&gt;
        &lt;/dependencies&gt;
    &lt;/deployment&gt;
&lt;/jboss-deployment-structure&gt;</pre>
        <p>The <code class="literal">services</code> attribute must be set to "import" for modules that have default providers
            in a META-INF/services/javax.ws.rs.ext.Providers file. 
        </p>
        <p>
            The following table specifies which of the Resteasy modules currently shipped with WildFly are loaded by default
            when JAX-RS services are deployed and which aren't.
        </p>
        <p>
            </p><div class="table"><a id="d4e30"/><p class="title"><b>Table 3.1. </b></p><div class="table-contents">
            <table border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th>
                        Module Name
                    </th><th>
                        Loaded by Default
                    </th><th>
                        Description
                    </th></tr></thead><tbody><tr><td>
                        org.jboss.resteasy.resteasy-atom-provider
                    </td><td>
                        yes
                    </td><td>
                        Resteasy's atom library
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-cdi
                    </td><td>
                        yes
                    </td><td>
                        Resteasy CDI integration
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-crypto
                    </td><td>
                        yes
                    </td><td>
                        S/MIME, DKIM, and support for other security formats.
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-jackson-provider
                    </td><td>
                        no
                    </td><td>
                        Integration with the JSON parser and object mapper Jackson (deprecated)
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-jackson2-provider
                    </td><td>
                        yes
                    </td><td>
                        Integration with the JSON parser and object mapper Jackson 2
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-jaxb-provider
                    </td><td>
                        yes
                    </td><td>
                        XML JAXB integration.
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-jaxrs
                    </td><td>
                        yes
                    </td><td>
                        Core Resteasy libraries for server and client.  You will need to include this in your deployment
                        if you are only using JAX-RS client.
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-jettison-provider
                    </td><td>
                        no
                    </td><td>
                        Alternative JAXB-like parser for JSON (deprecated)
                    </td></tr><tr><td>
                        org.jboss.resteasy.jose-jwt
                    </td><td>
                        no
                    </td><td>
                        JSON Web Token support.
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-jsapi
                    </td><td>
                        yes
                    </td><td>
                        Resteasy's Javascript API
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-json-p-provider
                    </td><td>
                        yes
                    </td><td>
                        JSON parsing API
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-multipart-provider
                    </td><td>
                        yes
                    </td><td>
                        Support for multipart formats
                    </td></tr><tr><td>
                        org.jboss.resteasy.skeleton-key
                    </td><td>
                        no
                    </td><td>
                        OAuth2 support.
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-spring
                    </td><td>
                        no
                    </td><td>
                        Spring provider
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-validator-provider-11
                    </td><td>
                        yes
                    </td><td>
                        Resteasy's interface to Hibernate Bean Validation 1.1
                    </td></tr><tr><td>
                        org.jboss.resteasy.resteasy-yaml-provider
                    </td><td>
                        yes
                    </td><td>
                        YAML marshalling
                    </td></tr></tbody></table>
            </div></div><p><br class="table-break"/>
        </p>
    
        <div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="other_resteasy_modules"/>3.1.1. Other Resteasy modules</h3></div></div></div>
        
            <p>
                Not all Resteasy modules are bundled with WildFly. For example,
                resteasy-fastinfoset-provider and resteasy-wadl are not included among the
                modules listed in <a class="xref" href="Installation_Configuration.html#resteasy_modules_in_wildfly" title="3.1. Resteasy modules in WildFly">Section 3.1, “Resteasy modules in WildFly”</a>. If you want
                to use them in your application, you can include them in your WAR as you would if you were
                deploying outside of WildFly. See <a class="xref" href="Installation_Configuration.html#standalone_resteasy" title="3.3. Deploying to other servlet containers">Section 3.3, “Deploying to other servlet containers”</a> for more information.
        </p>
        </div>
	    <div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="upgrading-wildfly"/>3.1.2. Upgrading Resteasy within WildFly</h3></div></div></div>
	        
	        <p>
	            Resteasy is bundled with WildFly, but you may want to upgrade Resteasy in WildFly to the latest version.  The Resteasy
	            distribution comes with a zip file called resteasy-jboss-modules-&lt;version&gt;.zip.  Unzip this file
	            within the modules/system/layers/base/ directory of the WildFly distribution.  This will configure WildFly
	            to use new versions of the modules listed in <a class="xref" href="Installation_Configuration.html#resteasy_modules_in_wildfly" title="3.1. Resteasy modules in WildFly">Section 3.1, “Resteasy modules in WildFly”</a>.
	        </p>
	    </div>
    </div>
        
    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d4e111"/>3.2. Deploying a Resteasy application to WildFly</h2></div></div></div>
        
        <p>
            Resteasy is bundled with WildFly and completely integrated as per the requirements of Java EE 7.
            You can use it with EJB and CDI and you can rely completely on WildFly to scan for and deploy your JAX-RS services and providers.
            All you have to provide is your JAX-RS service and provider classes packaged
            within a WAR either as POJOs, CDI beans, or EJBs.
            A simple way to configure an application is by simply providing an empty web.xml file.
            You can of course deploy any custom servlet, filter
            or security constraint you want to within your web.xml, but none of them are required:
        </p>
        <p>
            </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
&lt;web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"&gt;
&lt;/web-app&gt;</pre><p>
        </p>
        <p>
            Also, Resteasy context-params (see <a class="xref" href="Installation_Configuration.html#configuration_switches" title="3.4. Configuration switches">Section 3.4, “Configuration switches”</a>)
            are available if you want to tweak or turn on/off any specific Resteasy feature.
        </p>
        <p>
            Since we're not using a &lt;servlet-mapping&gt; element, we must define a
            <code class="classname">javax.ws.rs.core.Application</code> class (see <a class="xref" href="Installation_Configuration.html#javax.ws.rs.core.Application" title="3.5. javax.ws.rs.core.Application">Section 3.5, “javax.ws.rs.core.Application”</a>) that is annotated with
            the <code class="classname">javax.ws.rs.ApplicationPath</code> annotation.  If you return any empty set for classes and singletons,
            which is the behavior inherited from <code class="classname">Application</code>, your WAR will
            be scanned for resource and provider classes as indicated by the presence of JAX-RS annotations.
        </p>
        <pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
import javax.ws.rs.ApplicationPath;
import javax.ws.rs.core.Application;

@ApplicationPath("/root-path")
public class MyApplication extends Application
{
}       </pre>

        <p>
            <span class="bold"><strong>Note.</strong></span> Actually, if the application jar contains an
            <code class="classname">Application</code> class (or a subclass thereof)
            which is annotated with an <code class="classname">ApplicationPath</code> annotation, a web.xml file isn't even needed.
            Of course, even in this case it can be used to specify additional information such as context parameters.
            If there is an <code class="classname">Application</code> class but it doesn't have an 
            <code class="classname">@ApplicationPath</code> annotation, then a web.xml file with at least a
            &lt;servlet-mapping&gt; element is required.
        </p>
        
        <p>
            <span class="bold"><strong>Note.</strong></span> As mentioned in <a class="xref" href="Installation_Configuration.html#other_resteasy_modules" title="3.1.1. Other Resteasy modules">Section 3.1.1, “Other Resteasy modules”</a>,
            not all Resteasy modules are bundled with WildFly. For example,
            resteasy-fastinfoset-provider and resteasy-wadl are not included among the
            modules listed in <a class="xref" href="Installation_Configuration.html#resteasy_modules_in_wildfly" title="3.1. Resteasy modules in WildFly">Section 3.1, “Resteasy modules in WildFly”</a>. If you want
            to use them in your application, you can include them in your WAR as you would if you were
            deploying outside of WildFly. See <a class="xref" href="Installation_Configuration.html#standalone_resteasy" title="3.3. Deploying to other servlet containers">Section 3.3, “Deploying to other servlet containers”</a> for more information.
        </p>

</div>
    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="standalone_resteasy"/>3.3. Deploying to other servlet containers</h2></div></div></div>
        
        <p>
            If you are using Resteasy outside of WildFly, in a standalone servlet container like Tomcat or Jetty, for example,
            you will need to include the appropriate Resteasy jars in your WAR file.  You will need the core classes
            in the resteasy-jaxrs module, and you may need additional facilities like the resteasy-jaxb-provider module.
            We strongly suggest that you use Maven to build your WAR files as Resteasy is split into
            a bunch of different modules:
        </p>
        <pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;
    &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;
    &lt;version&gt;${resteasy.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;
    &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;
    &lt;version&gt;${resteasy.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre>
        <p>
            You can see sample Maven projects in
            <a class="ulink" href="https://github.com/resteasy/resteasy-examples">https://github.com/resteasy/resteasy-examples</a>.
        </p>
        <p>
            If you are not using Maven, you can include the necessary jars by hand. If you download
            Resteasy (from <a class="ulink" href="http://resteasy.jboss.org/downloads.html">http://resteasy.jboss.org/downloads.html</a>,
            for example) you will get a file like resteasy-jaxrs-&lt;version&gt;-all.zip.             
            If you unzip it you will see a lib/ directory that contains the libraries needed by Resteasy.
            Copy these, as needed, into your /WEB-INF/lib directory. Place your JAX-RS annotated class resources and providers
            within one or more jars within /WEB-INF/lib or your raw class files within /WEB-INF/classes.
        </p>
        
        <div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d4e143"/>3.3.1. Servlet 3.0 containers</h3></div></div></div>
        
        
        <p>
            Resteasy uses the <code class="literal">ServletContainerInitializer</code> integration interface in Servlet 3.0 containers
            to initialize an application, automatically scanning for resources and providers. To enable automatic
            scanning, you must also include the <code class="literal">resteasy-servlet-initializer</code> artifact in your WAR
            file as well:
        </p>
        <pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;
    &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;
    &lt;version&gt;${resteasy.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre>
        </div>
        
        <div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d4e149"/>3.3.2. Older servlet containers</h3></div></div></div>
        
        <p>
            The <code class="literal">resteasy-servlet-initializer</code> artifact will not work in Servlet versions older than
            3.0.  You'll then have to manually declare the Resteasy servlet in your WEB-INF/web.xml file of your WAR project,
            and you'll have to use an <code class="classname">Application</code> class (see <a class="xref" href="Installation_Configuration.html#javax.ws.rs.core.Application" title="3.5. javax.ws.rs.core.Application">Section 3.5, “javax.ws.rs.core.Application”</a>)
            which explicitly lists resources and providers. For example:
        </p>
        <p>
            </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
&lt;web-app&gt;
    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;
        &lt;servlet-class&gt;
            org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher
        &lt;/servlet-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;
            &lt;param-value&gt;com.restfully.shop.services.ShoppingApplication&lt;/param-value&gt;
        &lt;/init-param&gt;
    &lt;/servlet&gt;

    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

&lt;/web-app&gt;</pre><p>
        </p>
        <p>
            The Resteasy servlet is responsible for initializing some basic components of Resteasy.
        </p>
        <p>
            <span class="bold"><strong>Note.</strong></span> It is likely that support for pre-3.0 Servlet specifications
            will be deprecated and eliminated eventually.
        </p>
        </div>
    </div>
    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="configuration_switches"/>3.4. Configuration switches</h2></div></div></div>
        
        <p>Resteasy receives configuration options from &lt;context-param&gt; elements.</p>
        <p>
            </p><div class="table"><a id="d4e164"/><p class="title"><b>Table 3.2. </b></p><div class="table-contents">
                <table border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th>
                                Option Name
                            </th><th>
                                Default Value
                            </th><th>
                                Description
                            </th></tr></thead><tbody><tr><td>
                                resteasy.servlet.mapping.prefix
                            </td><td>
                                no default
                            </td><td>
                                If the url-pattern for the Resteasy servlet-mapping is not /*
                            </td></tr><tr><td>
                                resteasy.scan
                            </td><td>
                                false
                            </td><td>
                                Automatically scan WEB-INF/lib jars and WEB-INF/classes directory for both @Provider and
                                JAX-RS resource classes (@Path, @GET, @POST etc..) and register them.
                                This property is <span class="bold"><strong>deprecated</strong></span>; please use a Servlet 3.0 container or higher and the
                                ResteasyServletInitializer instead.
                            </td></tr><tr><td>
                                resteasy.scan.providers
                            </td><td>
                                false
                            </td><td>
                                Scan for @Provider classes and register them.
                                This property is <span class="bold"><strong>deprecated</strong></span>; please use a Servlet 3.0 container or higher and the
                                ResteasyServletInitializer instead.
                            </td></tr><tr><td>
                                resteasy.scan.resources
                            </td><td>
                                false
                            </td><td>
                                Scan for JAX-RS resource classes.
                                This property is <span class="bold"><strong>deprecated</strong></span>; please use a Servlet 3.0 container or higher and the
                                ResteasyServletInitializer instead.
                            </td></tr><tr><td>
                                resteasy.providers
                            </td><td>
                                no default
                            </td><td>
                                A comma delimited list of fully qualified @Provider class names you want to register
                            </td></tr><tr><td>
                                resteasy.use.builtin.providers
                            </td><td>
                                true
                            </td><td>
                                Whether or not to register default, built-in @Provider classes
                            </td></tr><tr><td>
                                resteasy.resources
                            </td><td>
                                no default
                            </td><td>
                                A comma delimited list of fully qualified JAX-RS resource class names you want to
                                register
                            </td></tr><tr><td>
                                resteasy.jndi.resources
                            </td><td>
                                no default
                            </td><td>
                                A comma delimited list of JNDI names which reference objects you want to register as
                                JAX-RS resources
                            </td></tr><tr><td>
                                javax.ws.rs.Application
                            </td><td>
                                no default
                            </td><td>
                                Fully qualified name of Application class to bootstrap in a spec portable way
                            </td></tr><tr><td>
                                resteasy.media.type.mappings
                            </td><td>
                                no default
                            </td><td>
                                Replaces the need for an Accept header by mapping file name extensions (like .xml or
                                .txt) to a media type. Used when the client
                                is unable to use an Accept header to choose a representation (i.e. a browser). See
                                <a class="xref" href="JAX-RS_Content_Negotiation.html" title="Chapter 17. JAX-RS Content Negotiation">Chapter 17, <i>JAX-RS Content Negotiation</i></a> for more details.
                            </td></tr><tr><td>
                                resteasy.language.mappings
                            </td><td>
                                no default
                            </td><td>
                                Replaces the need for an Accept-Language header by mapping file name extensions (like
                                .en or .fr) to a language. Used when the client
                                is unable to use an Accept-Language header to choose a language (i.e. a browser). See
                                <a class="xref" href="JAX-RS_Content_Negotiation.html" title="Chapter 17. JAX-RS Content Negotiation">Chapter 17, <i>JAX-RS Content Negotiation</i></a> for more details.
                            </td></tr><tr><td>
                                resteasy.media.type.param.mapping
                            </td><td>
                                no default
                            </td><td>
                                Names a query parameter that can be set to an acceptable media type,
                                enabling content negotiation without an Accept header. See
                                <a class="xref" href="JAX-RS_Content_Negotiation.html" title="Chapter 17. JAX-RS Content Negotiation">Chapter 17, <i>JAX-RS Content Negotiation</i></a> for more details.
                            </td></tr><tr><td>
                                resteasy.role.based.security
                            </td><td>
                                false
                            </td><td>
                                Enables role based security. See <a class="xref" href="Securing_JAX-RS_and_RESTeasy.html" title="Chapter 38. Securing JAX-RS and RESTEasy">Chapter 38, <i>Securing JAX-RS and RESTEasy</i></a>
                                for more details.
                            </td></tr><tr><td>
                                resteasy.document.expand.entity.references
                            </td><td>
                                false
                            </td><td>
                                Expand external entities in org.w3c.dom.Document documents
                                and JAXB object representations
                            </td></tr><tr><td>
                                resteasy.document.secure.processing.feature
                            </td><td>
                                true
                            </td><td>
                                Impose security constraints in processing org.w3c.dom.Document documents
                                and JAXB object representations
                            </td></tr><tr><td>
                                resteasy.document.secure.disableDTDs
                            </td><td>
                                true
                            </td><td>
                                Prohibit DTDs in org.w3c.dom.Document documents
                                and JAXB object representations
                            </td></tr><tr><td>
                                resteasy.wider.request.matching
                            </td><td>
                                false
                            </td><td>
                                Turns off the JAX-RS spec defined class-level expression filtering and instead
                                tries to match version every method's full path.
                            </td></tr><tr><td>
                                resteasy.use.container.form.params
                            </td><td>
                                false
                            </td><td>
                                Obtain form parameters by using HttpServletRequest.getParameterMap().
                                Use this switch if you are calling this method within a servlet filter or eating
                                the input stream within the filter.
                            </td></tr><tr><td>
                                resteasy.rfc7232preconditions
                            </td><td>
                                false
                            </td><td>
                                Enables <a class="link" href="Cache_NoCache_CacheControl.html#Http_Precondition" title="32.4. HTTP preconditions">RFC7232 compliant HTTP preconditions handling</a>.
                            </td></tr><tr><td>
                                resteasy.gzip.max.input
                            </td><td>
                                10000000
                            </td><td>
                                Imposes maximum size on decompressed gzipped .
                            </td></tr><tr><td>
                                resteasy.secure.random.max.use
                            </td><td>
                                100
                            </td><td>
                                The number of times a SecureRandom can be used before reseeding.
                            </td></tr><tr><td>
                                resteasy.buffer.exception.entity
                            </td><td>
                                true
                            </td><td>
                                Upon receiving an exception, the client side buffers any response
                                entity before closing the connection.
                            </td></tr><tr><td>
                                resteasy.add.charset
                            </td><td>
                                true
                            </td><td>
                                If a resource method returns a text/* or application/xml* media type without
                                an explicit charset, Resteasy will add "charset=UTF-8" to the returned
                                Content-Type header. Note that the charset defaults to UTF-8 in this case,
                                independent of the setting of this parameter.
                            </td></tr></tbody></table>
            </div></div><p><br class="table-break"/>
        </p>
        <p>
            <span class="bold"><strong>Note. </strong></span>
            The resteasy.servlet.mapping.prefix &lt;context param&gt; variable must be set if your servlet-mapping for
            the Resteasy servlet has a url-pattern other than /*. For example, if the url-pattern is
        </p>
        <p>
            </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
&lt;servlet-mapping&gt;
&lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;
&lt;url-pattern&gt;/restful-services/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</pre><p>
        </p>
        <p>
            Then the value of resteasy.servlet.mapping.prefix must be:
        </p>
        <p>
            </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
&lt;context-param&gt;
&lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;
&lt;param-value&gt;/restful-services&lt;/param-value&gt;
&lt;/context-param&gt;</pre><p>
        </p>
    </div>
    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="javax.ws.rs.core.Application"/>3.5. javax.ws.rs.core.Application</h2></div></div></div>
        

        <p>

            The <code class="classname">javax.ws.rs.core.Application</code> class is a standard JAX-RS class that you may implement to provide
            information on your deployment. It is simply a class the lists all JAX-RS root resources and providers.
        </p>
        <p>

            </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
/**
* Defines the components of a JAX-RS application and supplies additional
* metadata. A JAX-RS application or implementation supplies a concrete
* subclass of this abstract class.
*/
public abstract class Application
{
    private static final Set&lt;Object&gt; emptySet = Collections.emptySet();

    /**
    * Get a set of root resource and provider classes. The default lifecycle
    * for resource class instances is per-request. The default lifecycle for
    * providers is singleton.
    * &lt;p/&gt;
    * &lt;p&gt;Implementations should warn about and ignore classes that do not
    * conform to the requirements of root resource or provider classes.
    * Implementations should warn about and ignore classes for which
    * {@link #getSingletons()} returns an instance. Implementations MUST
    * NOT modify the returned set.&lt;/p&gt;
    *
    * @return a set of root resource and provider classes. Returning null
    * is equivalent to returning an empty set.
    */
    public abstract Set&lt;Class&lt;?&gt;&gt; getClasses();

    /**
    * Get a set of root resource and provider instances. Fields and properties
    * of returned instances are injected with their declared dependencies
    * (see {@link Context}) by the runtime prior to use.
    * &lt;p/&gt;
    * &lt;p&gt;Implementations should warn about and ignore classes that do not
    * conform to the requirements of root resource or provider classes.
    * Implementations should flag an error if the returned set includes
    * more than one instance of the same class. Implementations MUST
    * NOT modify the returned set.&lt;/p&gt;
    * &lt;p/&gt;
    * &lt;p&gt;The default implementation returns an empty set.&lt;/p&gt;
    *
    * @return a set of root resource and provider instances. Returning null
    * is equivalent to returning an empty set.
    */
    public Set&lt;Object&gt; getSingletons()
    {
        return emptySet;
    }

}            </pre><p>
        </p>
        <p>


        </p>

        <p>
            
        </p>
        <p>
            <span class="bold"><strong>Note. </strong></span>If your web.xml file does not have a 
            &lt;servlet-mapping&gt; element, you must use an <code class="classname">Application</code> class
            annotated with <code class="classname">@ApplicationPath</code>.

        </p>
    </div>

    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="listener"/>3.6. Resteasy as a ServletContextListener</h2></div></div></div>
        

        <p>
            This section is pretty much deprecated if you are using a Servlet 3.0 container or higher.  Skip it if
            you are and read the configuration section above on installing in Servlet 3.0.
            The initialization of Resteasy can be performed within a ServletContextListener instead of within the
            Servlet. You may need this if you are writing custom Listeners that need to interact with Resteasy at boot
            time. An example of this is the Resteasy Spring integration that requires a Spring ServletContextListener.
            The org.jboss.resteasy.plugins.server.servlet.ResteasyBootstrap class is a ServletContextListener that
            configures an instance of an ResteasyProviderFactory and Registry. You can obtain instances of a
            ResteasyProviderFactory and Registry from the ServletContext attributes
            org.jboss.resteasy.spi.ResteasyProviderFactory and org.jboss.resteasy.spi.Registry. From these instances you
            can programmatically interact with Resteasy registration interfaces.
        </p>

        <pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
&lt;web-app&gt;
   &lt;listener&gt;
      &lt;listener-class&gt;
         org.jboss.resteasy.plugins.server.servlet.ResteasyBootstrap
      &lt;/listener-class&gt;
   &lt;/listener&gt;

  &lt;!-- ** INSERT YOUR LISTENERS HERE!!!! --&gt;

   &lt;servlet&gt;
      &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;
      &lt;servlet-class&gt;
         org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher
      &lt;/servlet-class&gt;
   &lt;/servlet&gt;

   &lt;servlet-mapping&gt;
      &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;
      &lt;url-pattern&gt;/Resteasy/*&lt;/url-pattern&gt;
   &lt;/servlet-mapping&gt;

&lt;/web-app&gt;</pre>
    </div>
    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="filter"/>3.7. Resteasy as a Servlet Filter</h2></div></div></div>
        

        <p>
            This section is pretty much deprecated if you are using a Servlet 3.0 container or higher.  Skip it if
            you are and read the configuration section above on installing in Servlet 3.0.
            The downside of running Resteasy as a Servlet is that you cannot have static resources like .html and .jpeg
            files in the
            same path as your JAX-RS services. Resteasy allows you to run as a Filter instead. If a JAX-RS resource is
            not
            found under the URL requested, Resteasy will delegate back to the base servlet container to resolve URLs.
        </p>

        <pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
&lt;web-app&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;Resteasy&lt;/filter-name&gt;
        &lt;filter-class&gt;
            org.jboss.resteasy.plugins.server.servlet.FilterDispatcher
        &lt;/filter-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;
            &lt;param-value&gt;com.restfully.shop.services.ShoppingApplication&lt;/param-value&gt;
        &lt;/init-param&gt;
    &lt;/filter&gt;

    &lt;filter-mapping&gt;
        &lt;filter-name&gt;Resteasy&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;

&lt;/web-app&gt;</pre>
    </div>

    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d4e299"/>3.8. Client side</h2></div></div></div>
    
    
    <p>
        JAX-RS 2.0 conforming implementations such as Resteasy support a client side framework which simplifies
        communicating with restful applications. In Resteasy, the minimal set of modules needed for the client framework
        consists of resteasy-jaxrs and resteasy-client. You can access them by way of maven:
    </p>
    
<pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;
    &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;
    &lt;version&gt;${resteasy.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;
    &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;
    &lt;version&gt;${resteasy.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre>

    <p>
        Other modules, such as resteasy-jaxb-provider, may be brought in as needed.
    </p>

    </div>
</div><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="license.html"><strong>Prev</strong>Chapter 2. License</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="Using_Path.html"><strong>Next</strong>Chapter 4. Using @Path and @GET, @POST, etc.</a></li></ul></body></html>